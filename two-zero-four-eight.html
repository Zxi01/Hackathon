<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/two-zero-four-eight.css" />
    <link rel="stylesheet" href="assets/css/style.css">

    <title>2048</title>
</head>

<body>
    <header>
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid header-bar d-flex align-items-center justify-content-between">
                <!-- Left -->
                <a class="navbar-brand d-none d-md-block" href="index.html">Retro Arcade</a>

                <!-- Center -->
                <h1 class="retro-title m-0">2048</h1>

                <!-- Right -->
                <div class="d-flex align-items-center justify-content-end">
                    <!-- Music button (desktop only) -->
                    <button id="music-toggle" class="d-none d-md-block" aria-label="Toggle background music">
                        <img src="assets/images/pixel-mute.jpg" alt="music icon" class="music-icon">
                        <span class="music-label"></span>
                    </button>

                    <!-- Burger menu (mobile only) -->
                    <button id="mobile-menu-toggle" class="mobile-menu-btn d-block d-md-none" data-bs-toggle="offcanvas"
                        href="#offcanvasExample" aria-controls="offcanvasExample" aria-label="Toggle menu">
                        <span class="burger-line"></span>
                        <span class="burger-line"></span>
                        <span class="burger-line"></span>
                    </button>

                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample"
                        aria-labelledby="menuLabel">
                        <div class="offcanvas-header">
                            <div class="d-flex align-items-center gap-2">
                                <!-- <img src="assets/images/8bitHouse.png" alt="Home Icon" class="offcanvas-icon"> -->
                                <a href="index.html">
                                    <h5 class="offcanvas-title m-0" id="menuLabel">RETRO ARCADE</h5>
                                </a>
                            </div>
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
                                aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body">
                            <ul class="justify-content-start list-unstyled">
                                <li><a id="music-toggle" class=" text-decoration-none retro">Sound Toggle: On</a></li>
                                <li><a class=" text-decoration-none retro">Background
                                        Toggle: On</a></li>

                            </ul>
                            <ul class="mt-auto list-unstyled">
                                <li> <a class=" text-decoration-none retro" href="contact.html">Contact us</a>
                                <li><a href="#accessibility" class=" text-decoration-none retro">Accessibility
                                        Statement</a>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="game-wrapper">
            <div class="game-container">
                <!-- Score at the top -->
                <div id="scoreboard" class="scoreboard retro">
                    <span class="label">Score:</span>
                    <span id="score" class="value">0</span>
                </div>

                <!-- Game board in the middle -->
                <div id="game-board" class="board">
                    <div class="cell" id="cell-0-0"></div>
                    <div class="cell" id="cell-0-1"></div>
                    <div class="cell" id="cell-0-2"></div>
                    <div class="cell" id="cell-0-3"></div>

                    <div class="cell" id="cell-1-0"></div>
                    <div class="cell" id="cell-1-1"></div>
                    <div class="cell" id="cell-1-2"></div>
                    <div class="cell" id="cell-1-3"></div>

                    <div class="cell" id="cell-2-0"></div>
                    <div class="cell" id="cell-2-1"></div>
                    <div class="cell" id="cell-2-2"></div>
                    <div class="cell" id="cell-2-3"></div>

                    <div class="cell" id="cell-3-0"></div>
                    <div class="cell" id="cell-3-1"></div>
                    <div class="cell" id="cell-3-2"></div>
                    <div class="cell" id="cell-3-3"></div>
                </div>

                <!-- Highscore at the bottom -->
                <div id="highscore" class="scoreboard retro">
                    <span class="label">Highscore:</span>
                    <span id="highs">0</span>
                </div>
            </div>
        </div>

        <!-- D-pad controls for mobile/tablet -->
        </div>
        <div class="dpad-container">
            <button id="dpad-up" aria-label="Move Up">▲</button>
            <button id="dpad-left" aria-label="Move Left">◀</button>
            <button id="dpad-right" aria-label="Move Right">▶</button>
            <button id="dpad-down" aria-label="Move Down">▼</button>
        </div>


        <!-- Start playing modal -->
        <div id="start-game-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Welcome to 2048!</h2>
                <details>
                    <summary id="how-to-2048">How to Play</summary>
                    <ul>
                        <li> Use the arrow keys to slide all numbered tiles in one direction.
                        </li>
                        <li>When two tiles with the same number collide, they merge into one tile with their sum.
                        </li>
                        <li>Keep merging tiles to create larger numbers and reach the 2048 tile.</li>
                        <li>The game ends when no more moves are possible — plan ahead to avoid getting stuck!</li>
                    </ul>
                </details>
                <button id="start-btn">Start Game</button>
                <button class="home-btn">Main Menu</button>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="game-over-modal" class="modal hidden">
            <div class="modal-content">
                <p>Game Over! Your score: <span id="final-score"></span></p>
                <button id="restart-btn">Restart</button>
                <button id="home-btn">Homepage</button>
            </div>
        </div>

        <!-- Music toggle button -->

    </main>
    <footer class="mt-auto">
        <div class="container-fluid">
            <div class="row mt-3">
                <!-- Column 1: Page Links -->
                <div class="col-12 col-md-6 mb-3 mb-md-0 text-md-start">
                    <ul class="list-unstyled">
                        <li><a id="toggle-background-btn" class=" text-decoration-none retro ">Background
                                Toggle: On</a></li>
                        <li><a href="#accessibility" class=" text-decoration-none retro ">Accessibility Statement</a>
                        </li>

                    </ul>
                </div>

                <!-- Column 2: Legal / Policy -->
                <div class="col-12 col-md-6 text-md-end">
                    <ul class="list-unstyled">
                        <li> <a class=" text-decoration-none retro" href="index.html">Contact us</a></li>
                        <li> &copy; 2025 RETRO ARCADE. </li>
                    </ul>
                </div>
            </div>


        </div>

    </footer>

    <!-- renderer: define displayGrid before your game code runs -->
    <script>
        // provide a displayGrid the game file expects
        window.displayGrid = function (grid) {
            window.grid = grid;
            for (let r = 0; r < 4; r++) {
                for (let c = 0; c < 4; c++) {
                    const el = document.getElementById(`cell-${r}-${c}`);
                    const v = (grid && grid[r] && grid[r][c]) ? grid[r][c] : 0;
                    el.textContent = v === 0 ? '' : v;
                    el.className = 'cell' + (v ? ` tile-${v}` : '');
                }
            }
        };
    </script>

    <!-- your game logic -->
    <script src="js/script.js" defer></script>
    <script src="js/two-zero-four-eight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>